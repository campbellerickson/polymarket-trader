"use strict";(()=>{var t={};t.id=345,t.ids=[345],t.modules={145:t=>{t.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},1309:t=>{t.exports=import("@supabase/supabase-js")},9926:t=>{t.exports=import("zod")},6249:(t,e)=>{Object.defineProperty(e,"l",{enumerable:!0,get:function(){return function t(e,r){return r in e?e[r]:"then"in e&&"function"==typeof e.then?e.then(e=>t(e,r)):"function"==typeof e&&"default"===r?e:void 0}}})},4782:(t,e,r)=>{r.a(t,async(t,n)=>{try{r.r(e),r.d(e,{config:()=>l,default:()=>c,routeModule:()=>d});var a=r(1802),s=r(7153),o=r(6249),i=r(6601),u=t([i]);i=(u.then?(await u)():u)[0];let c=(0,o.l)(i,"default"),l=(0,o.l)(i,"config"),d=new a.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/logs",pathname:"/api/logs",bundlePath:"",filename:""},userland:i});n()}catch(t){n(t)}})},8159:(t,e,r)=>{r.a(t,async(t,n)=>{try{r.d(e,{O:()=>i});var a=r(9926),s=t([a]);let o=(a=(s.then?(await s)():s)[0]).z.object({KALSHI_API_ID:a.z.string().min(1),KALSHI_PRIVATE_KEY:a.z.string().min(1),VERCEL_AI_GATEWAY_KEY:a.z.string().min(1),SUPABASE_URL:a.z.string().url(),SUPABASE_KEY:a.z.string().min(1),CRON_SECRET:a.z.string().min(1),DAILY_BUDGET:a.z.string().transform(Number).default("100"),MIN_ODDS:a.z.string().transform(Number).default("0.90"),MAX_ODDS:a.z.string().transform(Number).default("0.98"),MAX_DAYS_TO_RESOLUTION:a.z.string().transform(Number).default("2"),MIN_LIQUIDITY:a.z.string().transform(Number).default("10000"),DRY_RUN:a.z.string().transform(t=>"true"===t).default("false"),INITIAL_BANKROLL:a.z.string().transform(Number).default("1000")}),i=function(){try{return o.parse(process.env)}catch(t){if(t instanceof a.z.ZodError){let e=t.errors.map(t=>t.path.join(".")).join(", ");throw Error(`Missing or invalid environment variables: ${e}`)}throw t}}();n()}catch(t){n(t)}})},8231:(t,e,r)=>{r.a(t,async(t,n)=>{try{r.d(e,{O:()=>i});var a=r(1309),s=r(8159),o=t([a,s]);[a,s]=o.then?(await o)():o;let i=(0,a.createClient)(s.O.SUPABASE_URL,s.O.SUPABASE_KEY);n()}catch(t){n(t)}})},6601:(t,e,r)=>{r.a(t,async(t,n)=>{try{r.r(e),r.d(e,{default:()=>o});var a=r(8231),s=t([a]);async function o(t,e){if("GET"!==t.method)return e.status(405).json({error:"Method not allowed"});try{let{data:t,error:r}=await a.O.from("error_logs").select("*").order("timestamp",{ascending:!1}).limit(100);if(r){if("PGRST116"===r.code||r.message.includes("does not exist"))return e.status(200).json({logs:[]});throw r}let n=(t||[]).map(t=>({id:t.id,timestamp:t.timestamp||t.created_at,level:t.level||"error",message:t.message,error:t.error,stack:t.stack,context:t.context?"string"==typeof t.context?JSON.parse(t.context):t.context:void 0}));return e.status(200).json({logs:n})}catch(t){return console.error("Logs API error:",t),e.status(500).json({error:t.message})}}a=(s.then?(await s)():s)[0],n()}catch(t){n(t)}})},7153:(t,e)=>{var r;Object.defineProperty(e,"x",{enumerable:!0,get:function(){return r}}),function(t){t.PAGES="PAGES",t.PAGES_API="PAGES_API",t.APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(t,e,r)=>{t.exports=r(145)}};var e=require("../../webpack-api-runtime.js");e.C(t);var r=e(e.s=4782);module.exports=r})();