(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(1854)}])},1854:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var t=a(5893),i=a(7294),n=a(9008),r=a.n(n),l=a(1664),d=a.n(l);function c(){let[e,s]=(0,i.useState)(null),[a,n]=(0,i.useState)(!0),[l,c]=(0,i.useState)(null);return((0,i.useEffect)(()=>{fetch("/api/dashboard").then(e=>e.json()).then(e=>{e.error?c(e.error):s(e),n(!1)}).catch(e=>{c(e.message),n(!1)})},[]),a)?(0,t.jsx)("div",{className:"loading",children:(0,t.jsx)("p",{children:"Loading dashboard..."})}):l?(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"error",children:[(0,t.jsx)("h2",{children:"Error loading dashboard"}),(0,t.jsx)("p",{children:l})]})}):e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r(),{children:[(0,t.jsx)("title",{children:"Kalshi Trader Dashboard"}),(0,t.jsx)("meta",{name:"description",content:"Kalshi automated trading system dashboard"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,t.jsx)("div",{className:"header",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("nav",{className:"nav",children:[(0,t.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:"Kalshi Trader"}),(0,t.jsx)(d(),{href:"/",className:"active",children:"Dashboard"}),(0,t.jsx)(d(),{href:"/logs",children:"Error Logs"})]})})}),(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("h2",{style:{marginBottom:"2rem",fontSize:"2rem"},children:"Performance Dashboard"}),(0,t.jsxs)("div",{className:"grid",children:[(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"metric",children:[(0,t.jsx)("span",{className:"metric-label",children:"Current Bankroll"}),(0,t.jsxs)("span",{className:"metric-value",children:["$",e.currentBankroll.toFixed(2)]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"metric",children:[(0,t.jsx)("span",{className:"metric-label",children:"Total P&L"}),(0,t.jsxs)("span",{className:"metric-value ".concat(e.totalPnL>=0?"positive":"negative"),children:[e.totalPnL>=0?"+":"","$",e.totalPnL.toFixed(2)]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"metric",children:[(0,t.jsx)("span",{className:"metric-label",children:"Total Return"}),(0,t.jsxs)("span",{className:"metric-value ".concat(e.totalReturn>=0?"positive":"negative"),children:[e.totalReturn>=0?"+":"",e.totalReturn.toFixed(2),"%"]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"metric",children:[(0,t.jsx)("span",{className:"metric-label",children:"Win Rate"}),(0,t.jsxs)("span",{className:"metric-value",children:[(100*e.winRate).toFixed(1),"%"]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"metric",children:[(0,t.jsx)("span",{className:"metric-label",children:"Total Trades"}),(0,t.jsx)("span",{className:"metric-value",children:e.totalTrades})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"metric",children:[(0,t.jsx)("span",{className:"metric-label",children:"Open Positions"}),(0,t.jsx)("span",{className:"metric-value",children:e.openTrades})]})})]}),(0,t.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.25rem"},children:"Month-to-Date"}),(0,t.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[(0,t.jsxs)("div",{className:"metric",children:[(0,t.jsx)("span",{className:"metric-label",children:"P&L"}),(0,t.jsxs)("span",{className:"metric-value ".concat(e.mtdPnL>=0?"positive":"negative"),children:[e.mtdPnL>=0?"+":"","$",e.mtdPnL.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"metric",children:[(0,t.jsx)("span",{className:"metric-label",children:"Return"}),(0,t.jsxs)("span",{className:"metric-value ".concat(e.mtdReturn>=0?"positive":"negative"),children:[e.mtdReturn>=0?"+":"",e.mtdReturn.toFixed(2),"%"]})]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.25rem"},children:"Year-to-Date"}),(0,t.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[(0,t.jsxs)("div",{className:"metric",children:[(0,t.jsx)("span",{className:"metric-label",children:"P&L"}),(0,t.jsxs)("span",{className:"metric-value ".concat(e.ytdPnL>=0?"positive":"negative"),children:[e.ytdPnL>=0?"+":"","$",e.ytdPnL.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"metric",children:[(0,t.jsx)("span",{className:"metric-label",children:"Return"}),(0,t.jsxs)("span",{className:"metric-value ".concat(e.ytdReturn>=0?"positive":"negative"),children:[e.ytdReturn>=0?"+":"",e.ytdReturn.toFixed(2),"%"]})]})]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.25rem"},children:"Recent Trades"}),(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Date"}),(0,t.jsx)("th",{children:"Contract"}),(0,t.jsx)("th",{children:"Side"}),(0,t.jsx)("th",{children:"Entry Odds"}),(0,t.jsx)("th",{children:"Size"}),(0,t.jsx)("th",{children:"Status"}),(0,t.jsx)("th",{children:"P&L"})]})}),(0,t.jsxs)("tbody",{children:[e.recentTrades.map(e=>{var s;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:new Date(e.executed_at).toLocaleDateString()}),(0,t.jsx)("td",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis"},children:(null===(s=e.contract)||void 0===s?void 0:s.question)||"N/A"}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:"badge ".concat("YES"===e.side?"success":"info"),children:e.side})}),(0,t.jsxs)("td",{children:[(100*e.entry_odds).toFixed(1),"%"]}),(0,t.jsxs)("td",{children:["$",e.position_size.toFixed(2)]}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:"badge ".concat("won"===e.status?"success":"lost"===e.status?"danger":"stopped"===e.status?"warning":"info"),children:e.status})}),(0,t.jsx)("td",{className:e.pnl&&e.pnl>=0?"positive":"negative",children:e.pnl?(e.pnl>=0?"+":"")+"$"+e.pnl.toFixed(2):"-"})]},e.id)}),0===e.recentTrades.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,style:{textAlign:"center",color:"#94a3b8"},children:"No trades yet"})})]})]})]}),e.openPositions.length>0&&(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.25rem"},children:"Open Positions"}),(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Contract"}),(0,t.jsx)("th",{children:"Side"}),(0,t.jsx)("th",{children:"Entry Odds"}),(0,t.jsx)("th",{children:"Current Odds"}),(0,t.jsx)("th",{children:"Size"}),(0,t.jsx)("th",{children:"Unrealized P&L"})]})}),(0,t.jsx)("tbody",{children:e.openPositions.map(e=>{var s;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis"},children:(null===(s=e.trade.contract)||void 0===s?void 0:s.question)||"N/A"}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:"badge ".concat("YES"===e.trade.side?"success":"info"),children:e.trade.side})}),(0,t.jsxs)("td",{children:[(100*e.trade.entry_odds).toFixed(1),"%"]}),(0,t.jsxs)("td",{children:[(100*e.current_odds).toFixed(1),"%"]}),(0,t.jsxs)("td",{children:["$",e.trade.position_size.toFixed(2)]}),(0,t.jsxs)("td",{className:e.unrealized_pnl>=0?"positive":"negative",children:[e.unrealized_pnl>=0?"+":"","$",e.unrealized_pnl.toFixed(2),"(",e.unrealized_pnl_pct>=0?"+":"",e.unrealized_pnl_pct.toFixed(1),"%)"]})]},e.trade.id)})})]})]})]})]}):null}}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);