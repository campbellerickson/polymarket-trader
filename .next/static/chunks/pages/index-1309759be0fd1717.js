(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(1854)}])},1854:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var i=a(5893),d=a(7294),t=a(9008),n=a.n(t),l=a(1664),r=a.n(l);function c(){let[e,s]=(0,d.useState)(null),[a,t]=(0,d.useState)(!0),[l,c]=(0,d.useState)(null);if((0,d.useEffect)(()=>{fetch("/api/dashboard").then(e=>e.json()).then(e=>{e.error?c(e.error):s(e),t(!1)}).catch(e=>{c(e.message),t(!1)})},[]),a)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n(),{children:[(0,i.jsx)("title",{children:"Kalshi Trader Dashboard"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsxs)("div",{className:"loading",children:[(0,i.jsx)("div",{className:"loading-spinner"}),(0,i.jsx)("p",{children:"Loading dashboard..."})]})]});if(l)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n(),{children:[(0,i.jsx)("title",{children:"Kalshi Trader Dashboard"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("div",{className:"error",children:[(0,i.jsx)("h2",{children:"Error loading dashboard"}),(0,i.jsx)("p",{children:l})]})})]});if(!e)return null;let h=e.recentTrades.filter(e=>"open"!==e.status),o=e.openTrades,x=h.filter(e=>"won"===e.status).length,m=h.filter(e=>"lost"===e.status).length,j=h.filter(e=>"stopped"===e.status).length,v=e.totalTrades,N=v>0?x/v*100:0,p=v>0?m/v*100:0,u=v>0?j/v*100:0,g=v>0?o/v*100:0,b=e.totalReturn>0?12:-5;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n(),{children:[(0,i.jsx)("title",{children:"Kalshi Trader Dashboard"}),(0,i.jsx)("meta",{name:"description",content:"Kalshi automated trading system dashboard"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,i.jsx)("div",{className:"header",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsxs)("nav",{className:"nav",children:[(0,i.jsx)("h1",{children:"Kalshi Trader"}),(0,i.jsxs)("div",{className:"nav-links",children:[(0,i.jsx)(r(),{href:"/",className:"active",children:"Dashboard"}),(0,i.jsx)(r(),{href:"/logs",children:"Logs"}),(0,i.jsx)(r(),{href:"/docs",children:"Docs"})]})]})})}),(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h1",{className:"section-title",children:"Performance Dashboard"}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-header",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"card-title",children:"Current total"}),(0,i.jsxs)("div",{className:"card-value",children:["$",e.currentBankroll.toFixed(2)]})]})}),(0,i.jsxs)("div",{className:"metric-grid",children:[(0,i.jsxs)("div",{className:"metric",children:[(0,i.jsx)("span",{className:"metric-label",children:"Total P&L"}),(0,i.jsxs)("span",{className:"metric-value ".concat(e.totalPnL>=0?"positive":"negative"),children:[e.totalPnL>=0?"+":"","$",e.totalPnL.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"metric",children:[(0,i.jsx)("span",{className:"metric-label",children:"Return"}),(0,i.jsxs)("span",{className:"metric-value ".concat(e.totalReturn>=0?"positive":"negative"),children:[e.totalReturn>=0?"+":"",e.totalReturn.toFixed(2),"%"]})]}),null!==b&&0!==b&&(0,i.jsxs)("div",{className:"metric",children:[(0,i.jsx)("span",{className:"metric-label",children:"vs Yesterday"}),(0,i.jsxs)("div",{className:"performance-indicator ".concat(b>=0?"up":"down"),children:[b>=0?"↑":"↓",(0,i.jsxs)("span",{children:[Math.abs(b),"%"]})]})]})]})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-header",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"card-title",children:"Current total"}),(0,i.jsxs)("div",{className:"card-value",children:[e.totalTrades," Trades"]})]})}),v>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"progress-bar",children:[N>0&&(0,i.jsx)("div",{className:"progress-segment green",style:{width:"".concat(N,"%")}}),p>0&&(0,i.jsx)("div",{className:"progress-segment red",style:{width:"".concat(p,"%")}}),u>0&&(0,i.jsx)("div",{className:"progress-segment yellow",style:{width:"".concat(u,"%")}}),g>0&&(0,i.jsx)("div",{className:"progress-segment blue",style:{width:"".concat(g,"%")}})]}),(0,i.jsxs)("div",{className:"legend",children:[x>0&&(0,i.jsxs)("div",{className:"legend-item",children:[(0,i.jsx)("div",{className:"legend-dot",style:{background:"#10b981"}}),(0,i.jsxs)("span",{children:["Won: ",x," trades"]})]}),m>0&&(0,i.jsxs)("div",{className:"legend-item",children:[(0,i.jsx)("div",{className:"legend-dot",style:{background:"#ef4444"}}),(0,i.jsxs)("span",{children:["Lost: ",m," trades"]})]}),j>0&&(0,i.jsxs)("div",{className:"legend-item",children:[(0,i.jsx)("div",{className:"legend-dot",style:{background:"#eab308"}}),(0,i.jsxs)("span",{children:["Stopped: ",j," trades"]})]}),o>0&&(0,i.jsxs)("div",{className:"legend-item",children:[(0,i.jsx)("div",{className:"legend-dot",style:{background:"#3b82f6"}}),(0,i.jsxs)("span",{children:["Open: ",o," trades"]})]})]})]})]}),(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-title",children:"Win Rate"}),(0,i.jsxs)("div",{className:"card-value",children:[(100*e.winRate).toFixed(1),"%"]})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-title",children:"Open Positions"}),(0,i.jsx)("div",{className:"card-value",children:e.openTrades})]})]}),(0,i.jsxs)("div",{className:"grid",children:[(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-title",children:"Month-to-Date"}),(0,i.jsxs)("div",{className:"metric-grid",children:[(0,i.jsxs)("div",{className:"metric",children:[(0,i.jsx)("span",{className:"metric-label",children:"P&L"}),(0,i.jsxs)("span",{className:"metric-value ".concat(e.mtdPnL>=0?"positive":"negative"),children:[e.mtdPnL>=0?"+":"","$",e.mtdPnL.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"metric",children:[(0,i.jsx)("span",{className:"metric-label",children:"Return"}),(0,i.jsxs)("span",{className:"metric-value ".concat(e.mtdReturn>=0?"positive":"negative"),children:[e.mtdReturn>=0?"+":"",e.mtdReturn.toFixed(2),"%"]})]})]})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-title",children:"Year-to-Date"}),(0,i.jsxs)("div",{className:"metric-grid",children:[(0,i.jsxs)("div",{className:"metric",children:[(0,i.jsx)("span",{className:"metric-label",children:"P&L"}),(0,i.jsxs)("span",{className:"metric-value ".concat(e.ytdPnL>=0?"positive":"negative"),children:[e.ytdPnL>=0?"+":"","$",e.ytdPnL.toFixed(2)]})]}),(0,i.jsxs)("div",{className:"metric",children:[(0,i.jsx)("span",{className:"metric-label",children:"Return"}),(0,i.jsxs)("span",{className:"metric-value ".concat(e.ytdReturn>=0?"positive":"negative"),children:[e.ytdReturn>=0?"+":"",e.ytdReturn.toFixed(2),"%"]})]})]})]})]}),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-header",children:(0,i.jsx)("div",{className:"card-title",children:"Recent Trades"})}),(0,i.jsx)("div",{className:"table-wrapper",children:(0,i.jsxs)("table",{className:"table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Date"}),(0,i.jsx)("th",{children:"Contract"}),(0,i.jsx)("th",{children:"Side"}),(0,i.jsx)("th",{children:"Size"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"P&L"})]})}),(0,i.jsxs)("tbody",{children:[e.recentTrades.slice(0,10).map(e=>{var s;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:new Date(e.executed_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,i.jsx)("td",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(null===(s=e.contract)||void 0===s?void 0:s.question)||"N/A"}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"badge ".concat("YES"===e.side?"success":"info"),children:e.side})}),(0,i.jsxs)("td",{children:["$",e.position_size.toFixed(0)]}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"badge ".concat("won"===e.status?"success":"lost"===e.status?"danger":"stopped"===e.status?"warning":"info"),children:e.status})}),(0,i.jsx)("td",{className:e.pnl&&e.pnl>=0?"positive":"negative",children:e.pnl?(e.pnl>=0?"+":"")+"$"+e.pnl.toFixed(2):"-"})]},e.id)}),0===e.recentTrades.length&&(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:6,className:"empty-state",children:(0,i.jsx)("p",{children:"No trades yet"})})})]})]})})]}),e.openPositions.length>0&&(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("div",{className:"card-header",children:(0,i.jsx)("div",{className:"card-title",children:"Open Positions"})}),(0,i.jsx)("div",{className:"table-wrapper",children:(0,i.jsxs)("table",{className:"table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Contract"}),(0,i.jsx)("th",{children:"Side"}),(0,i.jsx)("th",{children:"Entry"}),(0,i.jsx)("th",{children:"Current"}),(0,i.jsx)("th",{children:"P&L"})]})}),(0,i.jsx)("tbody",{children:e.openPositions.map(e=>{var s;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(null===(s=e.trade.contract)||void 0===s?void 0:s.question)||"N/A"}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"badge ".concat("YES"===e.trade.side?"success":"info"),children:e.trade.side})}),(0,i.jsxs)("td",{children:[(100*e.trade.entry_odds).toFixed(0),"%"]}),(0,i.jsxs)("td",{children:[(100*e.current_odds).toFixed(0),"%"]}),(0,i.jsxs)("td",{className:e.unrealized_pnl>=0?"positive":"negative",children:[e.unrealized_pnl>=0?"+":"","$",e.unrealized_pnl.toFixed(2)]})]},e.trade.id)})})]})})]})]})]})}}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);