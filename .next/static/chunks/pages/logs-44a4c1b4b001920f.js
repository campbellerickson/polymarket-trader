(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{1593:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logs",function(){return n(7506)}])},7506:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return d}});var s=n(5893),l=n(7294),i=n(9008),t=n.n(i),a=n(1664),o=n.n(a);function d(){let[e,r]=(0,l.useState)([]),[n,i]=(0,l.useState)(!0),[a,d]=(0,l.useState)(null),[c,h]=(0,l.useState)("all");(0,l.useEffect)(()=>{fetch("/api/logs").then(e=>e.json()).then(e=>{e.error?d(e.error):r(e.logs||[]),i(!1)}).catch(e=>{d(e.message),i(!1)})},[]);let x=e.filter(e=>"all"===c||("error"===c?"error"===e.level:"warning"!==c||"warning"===e.level));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t(),{children:[(0,s.jsx)("title",{children:"Error Logs - Kalshi Trader"}),(0,s.jsx)("meta",{name:"description",content:"Error logs for Kalshi trading system"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsx)("div",{className:"header",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("nav",{className:"nav",children:[(0,s.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:"Kalshi Trader"}),(0,s.jsx)(o(),{href:"/",children:"Dashboard"}),(0,s.jsx)(o(),{href:"/logs",className:"active",children:"Error Logs"})]})})}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,s.jsx)("h2",{style:{fontSize:"2rem"},children:"Error Logs"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,s.jsx)("button",{onClick:()=>h("all"),className:"badge ".concat("all"===c?"info":""),style:{cursor:"pointer",border:"none",padding:"0.5rem 1rem"},children:"All"}),(0,s.jsx)("button",{onClick:()=>h("error"),className:"badge ".concat("error"===c?"danger":""),style:{cursor:"pointer",border:"none",padding:"0.5rem 1rem"},children:"Errors"}),(0,s.jsx)("button",{onClick:()=>h("warning"),className:"badge ".concat("warning"===c?"warning":""),style:{cursor:"pointer",border:"none",padding:"0.5rem 1rem"},children:"Warnings"})]})]}),n&&(0,s.jsx)("div",{className:"loading",children:(0,s.jsx)("p",{children:"Loading logs..."})}),a&&(0,s.jsxs)("div",{className:"error",children:[(0,s.jsx)("h3",{children:"Error loading logs"}),(0,s.jsx)("p",{children:a})]}),!n&&!a&&(0,s.jsx)("div",{className:"card",children:0===x.length?(0,s.jsx)("p",{style:{textAlign:"center",color:"#94a3b8",padding:"2rem"},children:"No logs found. Logs will appear here once error logging is implemented."}):(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Timestamp"}),(0,s.jsx)("th",{children:"Level"}),(0,s.jsx)("th",{children:"Message"}),(0,s.jsx)("th",{children:"Details"})]})}),(0,s.jsx)("tbody",{children:x.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{whiteSpace:"nowrap"},children:new Date(e.timestamp).toLocaleString()}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"badge ".concat("error"===e.level?"danger":"warning"===e.level?"warning":"info"),children:e.level})}),(0,s.jsx)("td",{style:{maxWidth:"400px",overflow:"hidden",textOverflow:"ellipsis"},children:e.message}),(0,s.jsxs)("td",{children:[e.error&&(0,s.jsxs)("details",{style:{cursor:"pointer"},children:[(0,s.jsx)("summary",{style:{color:"#60a5fa"},children:"View Error"}),(0,s.jsxs)("pre",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"#0f172a",borderRadius:"4px",overflow:"auto",fontSize:"0.75rem",maxHeight:"200px"},children:[e.error,e.stack&&"\n\n"+e.stack]})]}),e.context&&(0,s.jsxs)("details",{style:{cursor:"pointer",marginTop:"0.5rem"},children:[(0,s.jsx)("summary",{style:{color:"#60a5fa"},children:"View Context"}),(0,s.jsx)("pre",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"#0f172a",borderRadius:"4px",overflow:"auto",fontSize:"0.75rem",maxHeight:"200px"},children:JSON.stringify(e.context,null,2)})]})]})]},e.id))})]})})]})]})}}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=1593)}),_N_E=e.O()}]);