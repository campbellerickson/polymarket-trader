(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{1593:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logs",function(){return n(7506)}])},7506:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return c}});var s=n(5893),l=n(7294),i=n(9008),a=n.n(i),o=n(1664),t=n.n(o);function c(){let[e,r]=(0,l.useState)([]),[n,i]=(0,l.useState)(!0),[o,c]=(0,l.useState)(null),[d,h]=(0,l.useState)("all");(0,l.useEffect)(()=>{fetch("/api/logs").then(e=>e.json()).then(e=>{e.error?c(e.error):r(e.logs||[]),i(!1)}).catch(e=>{c(e.message),i(!1)})},[]);let x=e.filter(e=>"all"===d||("error"===d?"error"===e.level:"warning"!==d||"warning"===e.level));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"Error Logs - Kalshi Trader"}),(0,s.jsx)("meta",{name:"description",content:"Error logs for Kalshi trading system"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsx)("div",{className:"header",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("nav",{className:"nav",children:[(0,s.jsx)("h1",{children:"Kalshi Trader"}),(0,s.jsxs)("div",{className:"nav-links",children:[(0,s.jsx)(t(),{href:"/",children:"Dashboard"}),(0,s.jsx)(t(),{href:"/logs",className:"active",children:"Logs"}),(0,s.jsx)(t(),{href:"/docs",children:"Docs"})]})]})})}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[(0,s.jsx)("h1",{className:"section-title",children:"Error Logs"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[(0,s.jsxs)("button",{onClick:()=>h("all"),className:"badge ".concat("all"===d?"info":""),style:{cursor:"pointer",border:"none",padding:"0.5rem 1rem",background:"all"===d?"#dbeafe":"#f1f5f9",color:"all"===d?"#1e40af":"#475569"},children:["All (",e.length,")"]}),(0,s.jsxs)("button",{onClick:()=>h("error"),className:"badge ".concat("error"===d?"danger":""),style:{cursor:"pointer",border:"none",padding:"0.5rem 1rem",background:"error"===d?"#fee2e2":"#f1f5f9",color:"error"===d?"#991b1b":"#475569"},children:["Errors (",e.filter(e=>"error"===e.level).length,")"]}),(0,s.jsxs)("button",{onClick:()=>h("warning"),className:"badge ".concat("warning"===d?"warning":""),style:{cursor:"pointer",border:"none",padding:"0.5rem 1rem",background:"warning"===d?"#fef3c7":"#f1f5f9",color:"warning"===d?"#92400e":"#475569"},children:["Warnings (",e.filter(e=>"warning"===e.level).length,")"]})]})]}),n&&(0,s.jsxs)("div",{className:"loading",children:[(0,s.jsx)("div",{className:"loading-spinner"}),(0,s.jsx)("p",{children:"Loading logs..."})]}),o&&(0,s.jsxs)("div",{className:"error",children:[(0,s.jsx)("h2",{children:"Error loading logs"}),(0,s.jsx)("p",{children:o})]}),!n&&!o&&(0,s.jsx)("div",{className:"card",children:0===x.length?(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsxs)("p",{children:["No ","all"===d?"":d," logs found."]}),(0,s.jsx)("p",{children:"Logs will appear here once errors occur."})]}):(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Timestamp"}),(0,s.jsx)("th",{children:"Level"}),(0,s.jsx)("th",{children:"Message"}),(0,s.jsx)("th",{children:"Details"})]})}),(0,s.jsx)("tbody",{children:x.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{whiteSpace:"nowrap",fontSize:"0.875rem"},children:new Date(e.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"badge ".concat("error"===e.level?"danger":"warning"===e.level?"warning":"info"),children:e.level})}),(0,s.jsx)("td",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.message}),(0,s.jsxs)("td",{children:[e.error&&(0,s.jsxs)("details",{style:{cursor:"pointer"},children:[(0,s.jsx)("summary",{style:{color:"#3b82f6",fontSize:"0.875rem",fontWeight:"500"},children:"View Error"}),(0,s.jsxs)("pre",{style:{marginTop:"0.5rem",padding:"1rem",background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"auto",fontSize:"0.75rem",maxHeight:"200px",color:"#1e293b"},children:[e.error,e.stack&&"\n\n"+e.stack]})]}),e.context&&(0,s.jsxs)("details",{style:{cursor:"pointer",marginTop:e.error?"0.5rem":0},children:[(0,s.jsx)("summary",{style:{color:"#3b82f6",fontSize:"0.875rem",fontWeight:"500"},children:"View Context"}),(0,s.jsx)("pre",{style:{marginTop:"0.5rem",padding:"1rem",background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"auto",fontSize:"0.75rem",maxHeight:"200px",color:"#1e293b"},children:JSON.stringify(e.context,null,2)})]})]})]},e.id))})]})})})]})]})}}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=1593)}),_N_E=e.O()}]);